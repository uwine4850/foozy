<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>Getting started - foozy</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Getting started";
        var mkdocs_page_input_path = "getting_started.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> foozy
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">General</a>
                </li>
              </ul>
              <ul class="current">
                <li class="toctree-l1 current"><a class="reference internal current" href="#">Getting started</a>
    <ul class="current">
    </ul>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Cmd and config</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../cmd_and_config/cmd/">Cmd</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../cmd_and_config/config/">Config</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Router</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../router/router/">Router</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../router/websocket/">Websocket</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../router/cookies/cookies/">Cookies</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../router/manager/manager/">Manager</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../router/form/form/">Form</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../router/middlewares/middlewares/">Middlewares</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../router/object/object/">Object</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../router/rest/rest/">Rest</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../router/tmlengine/tmlengine/">Tmlengine</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Secure</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../secure/csrf_token/">CSRF token</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../secure/hmac/">HMAC</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../secure/jwt/">JWT</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../secure/key/">Key</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../secure/header/">Header</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Database</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../database/database/">Database</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../database/async_queries/">AsyncQueries</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../database/sync_queries/">SyncQueries</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../database/database_pool/">DatabasePool</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Codegen</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../codegen/gen/">Gen</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Debug</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../debug/logging/">Logging</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Mapper</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../mapper/mapper/">Mapper</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Builtin</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../builtin/builtin/">Builtin</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Typeopr</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../typeopr/typeopr/">Typeopr</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Server</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../server/server/">Server</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../server/globalflow/globalflow/">Globalflow</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../server/livereload/livereload/">Livereload</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Utils</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../utils/fmap/fmap/">fmap</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../utils/fpath/fpath/">fpath</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../utils/fslice/fslice/">fslice</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../utils/fstring/fstring/">fstring</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../utils/fstruct/fstruct/">fstruct</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">foozy</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">Getting started</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h2 id="getting-started">Getting started</h2>
<p>This section will describe in detail how to get started with the framework and create a minimally working project. </p>
<p>You can read more about all the packages used in the rest of the documentation.</p>
<h2 id="install">Install</h2>
<p>You need to use the appropriate command to install the framework:</p>
<pre><code class="language-bash">go get github.com/uwine4850/foozy
</code></pre>
<p>Naturally you need to have <code>golang 1.20</code> or more installed.</p>
<p>Also, after using some packages you need to install dependencies. To do this, just use the <code>go mod tidy</code> command.</p>
<h2 id="creating-a-project">Creating a project</h2>
<p>The following will describe the successive steps in creating a project. They must be performed in sequence to minimally initialize the project.</p>
<h3 id="commands-and-configuration">Commands and configuration</h3>
<p>To create a project you need to use several console commands. To do this you need to initialize the <a href="../cmd_and_config/cmd/">cmd package</a>.</p>
<p>One way will be shown below, it is just one implementation, do not consider it a single correct implementation.</p>
<ul>
<li>Create a <code>command</code> directory.</li>
<li>Create a <code>commad.go</code> file.</li>
<li>Populate the <code>command.go</code> file with the following code:</li>
</ul>
<pre><code class="language-golang">package main

import &quot;github.com/uwine4850/foozy/pkg/cmd&quot;

func main() {
    if err := cmd.Run(); err != nil {
        panic(err)
    }
}
</code></pre>
<p><strong>Note</strong>: most often, after import the <code>github.com/uwine4850/foozy/pkg/cmd</code> package, you need to run the <code>go mod tidy</code> command.</p>
<ul>
<li>Call the <code>go run command/command.go cnf-init ./cnf</code> <a href="../cmd_and_config/cmd/#commands">command</a>. Generating the <code>cnf/cnf_init/cnf_init.go</code> file.</li>
<li>From the generated file, you need to import the <a href="../cmd_and_config/config/#init-cnf">initcnf.InitCnf() function</a>. The <code>command/command.go</code> file now looks like this:</li>
</ul>
<pre><code class="language-golang">package main

import (
    initcnf &quot;&lt;project-mod&gt;/cnf/init_cnf&quot;

    &quot;github.com/uwine4850/foozy/pkg/cmd&quot;
)

func main() {
    initcnf.InitCnf()
    if err := cmd.Run(); err != nil {
        panic(err)
    }
}
</code></pre>
<p>This is to know the path to the configuration file.</p>
<ul>
<li>Next, you need to exec the <code>go run command/command.go cnf-gen</code> <a href="../cmd_and_config/cmd/#commands">command</a>. This will generate a configuration file here (if the user has not changed anything) <code>cnf/config.yaml</code>.</li>
</ul>
<p><strong>End</strong></p>
<p>After these operations, the console commands and the cofiguration file are ready for use.
You can read more details here:</p>
<ul>
<li><a href="../cmd_and_config/cmd/">Console commands</a>.</li>
<li><a href="../cmd_and_config/config/">Configuration file</a>.</li>
</ul>
<h3 id="launching-the-first-page">Launching the first page</h3>
<p>To start, a complete example of a minimal server just for copying and a quick test will be shown. After startup you can see the page at this address <code>http://localhost:7000/page</code>. Start the server with the <code>go run &lt;filename&gt;.go</code> command.</p>
<p><strong>Note:</strong> Most likely you will need to call the <code>go mod tidy</code> command.</p>
<pre><code class="language-golang">package main

import (
    &quot;net/http&quot;
    initcnf &quot;tee/cnf/init_cnf&quot;

    &quot;github.com/uwine4850/foozy/pkg/database&quot;
    &quot;github.com/uwine4850/foozy/pkg/interfaces&quot;
    &quot;github.com/uwine4850/foozy/pkg/router&quot;
    &quot;github.com/uwine4850/foozy/pkg/router/manager&quot;
    &quot;github.com/uwine4850/foozy/pkg/router/middlewares&quot;
    &quot;github.com/uwine4850/foozy/pkg/server&quot;
)

func main() {
    initcnf.InitCnf()
    newManager := manager.NewManager(
        manager.NewOneTimeData(),
        nil,
        nil,
    )
    newMiddlewares := middlewares.NewMiddlewares()
    newAdapter := router.NewAdapter(newManager, newMiddlewares)
    newRouter := router.NewRouter(newAdapter)
    newRouter.Register(router.MethodGET, &quot;/page&quot;,
        func(w http.ResponseWriter, r *http.Request, manager interfaces.Manager) error {
            w.Write([]byte(&quot;My first page!&quot;))
            return nil
        })
    newServer := server.NewServer(&quot;:7000&quot;, newRouter, nil)
    if err := newServer.Start(); err != nil {
        panic(err)
    }
}
</code></pre>
<hr />
<p>Below is a more detailed breakdown of all of this.</p>
<p>Initializing the configuration for use in the project. This only needs to be done once, as the configuration just needs to be loaded. This means that you only need to call this function once for a single session.  It does not matter where this function is called, but it must be called for the session. Read more <a href="../cmd_and_config/config/#init-cnf">here</a>.</p>
<pre><code class="language-golang">initcnf.InitCnf()
</code></pre>
<hr />
<p><a href="/router/manager/manager/">Manager</a> initialization. This object is used in many places in the framework, but you need to initialize it here. It is mandatory to pass <a href="/router/manager/manager/#onetimedata">manager.NewOneTimeData()</a>. <a href="/router/tmlengine/tmlengine">Render</a> and <strong>TODO: add link</strong> <a href="">DatabasePool</a> are optional if you don't plan to use a templating engine or database.</p>
<pre><code class="language-golang">newManager := manager.NewManager(
    manager.NewOneTimeData(),
    nil,
    nil,
)
</code></pre>
<p>But for future use, full initialization of the <a href="/router/manager/manager/">manager</a> is recommended.</p>
<pre><code class="language-golang">newRender, err := tmlengine.NewRender()
if err != nil {
    panic(err)
}
newManager := manager.NewManager(
    manager.NewOneTimeData(),
    newRender,
    database.NewDatabasePool(),
)
</code></pre>
<hr />
<p>Initializing the middleware. Read more <a href="/router/middlewares/middlewares">here</a>.</p>
<pre><code class="language-golang">newMiddlewares := middlewares.NewMiddlewares()
</code></pre>
<hr />
<p>Initializing the <a href="/router/router/#adapter">adapter</a>. It is needed for starting and preliminary preparation of handlers.</p>
<pre><code class="language-golang">newAdapter := router.NewAdapter(newManager, newMiddlewares)
</code></pre>
<hr />
<p>Initialize the <a href="/router/router/#router">router</a> to handle http routes.</p>
<pre><code class="language-golang">newRouter := router.NewRouter(newAdapter)
</code></pre>
<hr />
<p>A <a href="/router/router/">handler</a> that will process the selected routes. 
An error is returned, which will be handled by a special method specified in the <a href="/router/router/#adapter">adapter</a>.</p>
<pre><code class="language-golang">newRouter.Register(router.MethodGET, &quot;/page&quot;,
    func(w http.ResponseWriter, r *http.Request, manager interfaces.Manager) error {
        w.Write([]byte(&quot;My first page!&quot;))
        return nil
    })
</code></pre>
<p>This shows the simplest possible output of data to a page using <code>w.Write([]byte(“My first page!”))</code>.
For more advanced output, you need to use a <a href="/router/tmlengine/tmlengine">templating engine</a>. But before that you need to create HTML file and make <strong>full</strong> initialization of the <a href="/router/manager/manager/">manager</a>, which is shown above.</p>
<pre><code class="language-golang">newRouter.Register(router.MethodGET, &quot;/page&quot;,
    func(w http.ResponseWriter, r *http.Request, manager interfaces.Manager) error {
        manager.Render().SetTemplatePath(&quot;index.html&quot;)
        if err := manager.Render().RenderTemplate(w, r); err != nil {
            return err
        }
        return nil
    })
</code></pre>
<hr />
<p>Starting a <strong>TODO: add link</strong> <a href="">server</a> to process http requests. Here processing is started without <strong>TODO: add link</strong> <a href="">cors</a>.</p>
<pre><code class="language-golang">newServer := server.NewServer(&quot;:7000&quot;, newRouter, nil)
if err := newServer.Start(); err != nil {
    panic(err)
}
</code></pre>
<hr />
<p>This is the complete minimal initialization of the framework. </p>
<p>For more detailed information you need to look at other documentation or <strong>TODO: add link</strong> <a href="">example project</a>.</p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href=".." class="btn btn-neutral float-left" title="General"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../cmd_and_config/cmd/" class="btn btn-neutral float-right" title="Cmd">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href=".." style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../cmd_and_config/cmd/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
